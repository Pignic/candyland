<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sprite Sheet Generator</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #2a2a2a;
            color: #fff;
            font-family: monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h1 { margin-bottom: 10px; }
        .info {
            background: #3a3a3a;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            max-width: 600px;
        }
        .canvas-container {
            background: #1a1a1a;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        canvas {
            border: 2px solid #555;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }
        #display {
            width: 512px;
            height: 512px;
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            font-family: monospace;
            margin: 5px;
        }
        button:hover {
            background: #45a049;
        }
        .grid {
            position: absolute;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <h1>ðŸŽ® Character Sprite Sheet Generator</h1>
    
    <div class="info">
        <p><strong>Format:</strong> 128x128 pixels (4 frames Ã— 4 directions)</p>
        <p><strong>Frame size:</strong> 32x32 pixels</p>
        <p><strong>Rows:</strong> Down, Left, Right, Up</p>
        <p><strong>Animation:</strong> 4 frames per direction (idle â†’ step left â†’ idle â†’ step right)</p>
    </div>

    <div class="canvas-container">
        <canvas id="display"></canvas>
    </div>

    <div>
        <button onclick="downloadSprite()">ðŸ’¾ Download Sprite Sheet (player.png)</button>
        <button onclick="regenerate()">ðŸ”„ Regenerate with New Colors</button>
    </div>

    <canvas id="sprite" width="128" height="128" style="display:none;"></canvas>

    <script>
        const canvas = document.getElementById('sprite');
        const ctx = canvas.getContext('2d');
        const display = document.getElementById('display');
        const displayCtx = display.getContext('2d');
        
        // Color palette (will be randomized)
        let colors = {
            skin: '#ffdbac',
            hair: '#8B4513',
            shirt: '#FF6347',
            pants: '#4169E1',
            shoes: '#2F4F4F',
            outline: '#000000'
        };

        function randomColor() {
            const hue = Math.floor(Math.random() * 360);
            const saturation = 60 + Math.floor(Math.random() * 30);
            const lightness = 45 + Math.floor(Math.random() * 20);
            return `hsl(${hue}, ${saturation}%, ${lightness}%)`;
        }

        function regenerate() {
            colors = {
                skin: `hsl(${20 + Math.random() * 30}, 70%, 75%)`,
                hair: randomColor(),
                shirt: randomColor(),
                pants: randomColor(),
                shoes: `hsl(${Math.random() * 360}, 30%, 30%)`,
                outline: '#000000'
            };
            drawSpriteSheet();
        }

        function drawPixel(x, y, color) {
            ctx.fillStyle = color;
            ctx.fillRect(x, y, 1, 1);
        }

        function drawCharacter(startX, startY, frame, direction) {
            // Calculate leg/arm positions based on frame
            let leftLegOffset = 0, rightLegOffset = 0;
            let leftArmOffset = 0, rightArmOffset = 0;
            
            if (frame === 1) { // Left step
                leftLegOffset = -2;
                rightLegOffset = 2;
                leftArmOffset = 2;
                rightArmOffset = -2;
            } else if (frame === 3) { // Right step
                leftLegOffset = 2;
                rightLegOffset = -2;
                leftArmOffset = -2;
                rightArmOffset = 2;
            }

            const baseX = startX + 2;  // Start very close to edge
            const baseY = startY + 1;  // Start at top

            // Direction-specific adjustments
            let showFace = true;
            
            if (direction === 3) { // Up - back view
                showFace = false;
            }

            // HEAD (even bigger - 10x9 pixels)
            const headPixels = [
                [10, 3], [11, 3], [12, 3], [13, 3], [14, 3], [15, 3], [16, 3], [17, 3], [18, 3],
                [9, 4], [10, 4], [11, 4], [12, 4], [13, 4], [14, 4], [15, 4], [16, 4], [17, 4], [18, 4], [19, 4],
                [8, 5], [9, 5], [10, 5], [11, 5], [12, 5], [13, 5], [14, 5], [15, 5], [16, 5], [17, 5], [18, 5], [19, 5], [20, 5],
                [8, 6], [9, 6], [10, 6], [11, 6], [12, 6], [13, 6], [14, 6], [15, 6], [16, 6], [17, 6], [18, 6], [19, 6], [20, 6],
                [8, 7], [9, 7], [10, 7], [11, 7], [12, 7], [13, 7], [14, 7], [15, 7], [16, 7], [17, 7], [18, 7], [19, 7], [20, 7],
                [8, 8], [9, 8], [10, 8], [11, 8], [12, 8], [13, 8], [14, 8], [15, 8], [16, 8], [17, 8], [18, 8], [19, 8], [20, 8],
                [8, 9], [9, 9], [10, 9], [11, 9], [12, 9], [13, 9], [14, 9], [15, 9], [16, 9], [17, 9], [18, 9], [19, 9], [20, 9],
                [9, 10], [10, 10], [11, 10], [12, 10], [13, 10], [14, 10], [15, 10], [16, 10], [17, 10], [18, 10], [19, 10],
                [10, 11], [11, 11], [12, 11], [13, 11], [14, 11], [15, 11], [16, 11], [17, 11], [18, 11],
            ];
            headPixels.forEach(([x, y]) => {
                drawPixel(startX + x, startY + y, colors.skin);
            });

            // HAIR (bigger and fuller)
            const hairPixels = [
                [10, 2], [11, 2], [12, 2], [13, 2], [14, 2], [15, 2], [16, 2], [17, 2], [18, 2],
                [9, 3], [10, 3], [11, 3], [12, 3], [13, 3], [14, 3], [15, 3], [16, 3], [17, 3], [18, 3], [19, 3],
                [8, 4], [9, 4], [10, 4], [11, 4], [12, 4], [13, 4], [14, 4], [15, 4], [16, 4], [17, 4], [18, 4], [19, 4], [20, 4],
                [7, 5], [8, 5], [20, 5], [21, 5],
                [7, 6], [8, 6], [20, 6], [21, 6],
                [7, 7], [8, 7], [20, 7], [21, 7],
            ];
            hairPixels.forEach(([x, y]) => {
                drawPixel(startX + x, startY + y, colors.hair);
            });

            // EYES (white with colored pupils - much friendlier!)
            if (showFace && direction !== 1 && direction !== 2) {
                // Left eye white (3x3)
                for (let ey = 0; ey < 3; ey++) {
                    for (let ex = 0; ex < 3; ex++) {
                        drawPixel(startX + 10 + ex, startY + 7 + ey, '#ffffff');
                    }
                }
                // Left pupil (2x2 dark blue/brown)
                drawPixel(startX + 11, startY + 8, '#2c3e50');
                drawPixel(startX + 11, startY + 8, '#2c3e50');
                
                // Right eye white (3x3)
                for (let ey = 0; ey < 3; ey++) {
                    for (let ex = 0; ex < 3; ex++) {
                        drawPixel(startX + 16 + ex, startY + 7 + ey, '#ffffff');
                    }
                }
                // Right pupil (2x2)
                drawPixel(startX + 17, startY + 8, '#2c3e50');
                drawPixel(startX + 17, startY + 8, '#2c3e50');
                
                // Eye highlights (make them sparkle!)
                drawPixel(startX + 11, startY + 7, '#ffffff');
                drawPixel(startX + 17, startY + 7, '#ffffff');
            }

            if (direction === 1) { // Left - show side profile
                // Side eye (3x2)
                drawPixel(startX + 10, startY + 7, '#ffffff');
                drawPixel(startX + 11, startY + 7, '#ffffff');
                drawPixel(startX + 10, startY + 8, '#ffffff');
                drawPixel(startX + 11, startY + 8, '#ffffff');
                drawPixel(startX + 10, startY + 8, '#2c3e50');
            } else if (direction === 2) { // Right - show side profile
                drawPixel(startX + 17, startY + 7, '#ffffff');
                drawPixel(startX + 18, startY + 7, '#ffffff');
                drawPixel(startX + 17, startY + 8, '#ffffff');
                drawPixel(startX + 18, startY + 8, '#ffffff');
                drawPixel(startX + 18, startY + 8, '#2c3e50');
            }

            // TORSO (much bigger)
            const torsoPixels = [
                [10, 12], [11, 12], [12, 12], [13, 12], [14, 12], [15, 12], [16, 12], [17, 12], [18, 12],
                [9, 13], [10, 13], [11, 13], [12, 13], [13, 13], [14, 13], [15, 13], [16, 13], [17, 13], [18, 13], [19, 13],
                [9, 14], [10, 14], [11, 14], [12, 14], [13, 14], [14, 14], [15, 14], [16, 14], [17, 14], [18, 14], [19, 14],
                [9, 15], [10, 15], [11, 15], [12, 15], [13, 15], [14, 15], [15, 15], [16, 15], [17, 15], [18, 15], [19, 15],
                [10, 16], [11, 16], [12, 16], [13, 16], [14, 16], [15, 16], [16, 16], [17, 16], [18, 16],
                [10, 17], [11, 17], [12, 17], [13, 17], [14, 17], [15, 17], [16, 16], [17, 17], [18, 17],
            ];
            torsoPixels.forEach(([x, y]) => {
                drawPixel(startX + x, startY + y, colors.shirt);
            });

            // ARMS (much thicker)
            const leftArmX = direction === 2 ? 7 : 7;
            const rightArmX = direction === 1 ? 21 : 21;
            
            // Left arm (3 pixels wide)
            [13, 14, 15, 16, 17].forEach(y => {
                drawPixel(startX + leftArmX, startY + y + leftArmOffset, colors.shirt);
                drawPixel(startX + leftArmX + 1, startY + y + leftArmOffset, colors.shirt);
                drawPixel(startX + leftArmX + 2, startY + y + leftArmOffset, colors.shirt);
                // Hand
                drawPixel(startX + leftArmX - 1, startY + y + leftArmOffset, colors.skin);
                drawPixel(startX + leftArmX - 2, startY + y + leftArmOffset, colors.skin);
            });
            
            // Right arm (3 pixels wide)
            [13, 14, 15, 16, 17].forEach(y => {
                drawPixel(startX + rightArmX, startY + y + rightArmOffset, colors.shirt);
                drawPixel(startX + rightArmX - 1, startY + y + rightArmOffset, colors.shirt);
                drawPixel(startX + rightArmX - 2, startY + y + rightArmOffset, colors.shirt);
                // Hand
                drawPixel(startX + rightArmX + 1, startY + y + rightArmOffset, colors.skin);
                drawPixel(startX + rightArmX + 2, startY + y + rightArmOffset, colors.skin);
            });

            // LEGS (much thicker and longer)
            // Left leg (3 pixels wide)
            [18, 19, 20, 21, 22, 23, 24, 25, 26].forEach((y, i) => {
                const offset = i < 4 ? 0 : leftLegOffset;
                drawPixel(startX + 10 + offset, startY + y, colors.pants);
                drawPixel(startX + 11 + offset, startY + y, colors.pants);
                drawPixel(startX + 12 + offset, startY + y, colors.pants);
                if (i >= 4) {
                    drawPixel(startX + 9 + offset, startY + y, colors.pants);
                }
            });
            
            // Right leg (3 pixels wide)
            [18, 19, 20, 21, 22, 23, 24, 25, 26].forEach((y, i) => {
                const offset = i < 4 ? 0 : rightLegOffset;
                drawPixel(startX + 16 + offset, startY + y, colors.pants);
                drawPixel(startX + 17 + offset, startY + y, colors.pants);
                drawPixel(startX + 18 + offset, startY + y, colors.pants);
                if (i >= 4) {
                    drawPixel(startX + 19 + offset, startY + y, colors.pants);
                }
            });

            // SHOES (bigger - 4 pixels wide)
            [27, 28, 29, 30].forEach(y => {
                drawPixel(startX + 9 + leftLegOffset, startY + y, colors.shoes);
                drawPixel(startX + 10 + leftLegOffset, startY + y, colors.shoes);
                drawPixel(startX + 11 + leftLegOffset, startY + y, colors.shoes);
                drawPixel(startX + 12 + leftLegOffset, startY + y, colors.shoes);
                
                drawPixel(startX + 16 + rightLegOffset, startY + y, colors.shoes);
                drawPixel(startX + 17 + rightLegOffset, startY + y, colors.shoes);
                drawPixel(startX + 18 + rightLegOffset, startY + y, colors.shoes);
                drawPixel(startX + 19 + rightLegOffset, startY + y, colors.shoes);
            });
        }

        function drawSpriteSheet() {
            // Clear canvas
            ctx.clearRect(0, 0, 128, 128);
            
            // Draw all frames
            // Row 0: Down (facing camera)
            for (let frame = 0; frame < 4; frame++) {
                drawCharacter(frame * 32, 0, frame, 0);
            }
            
            // Row 1: Left
            for (let frame = 0; frame < 4; frame++) {
                drawCharacter(frame * 32, 32, frame, 1);
            }
            
            // Row 2: Right
            for (let frame = 0; frame < 4; frame++) {
                drawCharacter(frame * 32, 64, frame, 2);
            }
            
            // Row 3: Up (back view)
            for (let frame = 0; frame < 4; frame++) {
                drawCharacter(frame * 32, 96, frame, 3);
            }

            // Update display
            displayCtx.imageSmoothingEnabled = false;
            displayCtx.clearRect(0, 0, 512, 512);
            displayCtx.drawImage(canvas, 0, 0, 512, 512);
            
            // Draw grid on display
            displayCtx.strokeStyle = '#666';
            displayCtx.lineWidth = 1;
            for (let i = 0; i <= 4; i++) {
                displayCtx.beginPath();
                displayCtx.moveTo(i * 128, 0);
                displayCtx.lineTo(i * 128, 512);
                displayCtx.stroke();
                
                displayCtx.beginPath();
                displayCtx.moveTo(0, i * 128);
                displayCtx.lineTo(512, i * 128);
                displayCtx.stroke();
            }
        }

        function downloadSprite() {
            const link = document.createElement('a');
            link.download = 'player.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        // Initial draw
        drawSpriteSheet();
    </script>
</body>
</html>