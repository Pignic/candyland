<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enemy Sprite Sheet Generator</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #2a2a2a;
            color: #fff;
            font-family: monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h1 { margin-bottom: 10px; }
        .info {
            background: #3a3a3a;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            max-width: 600px;
        }
        .canvas-container {
            background: #1a1a1a;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        canvas {
            border: 2px solid #555;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }
        #display {
            width: 512px;
            height: 512px;
        }
        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            font-family: monospace;
        }
        button:hover {
            background: #45a049;
        }
        .color-btn {
            width: 150px;
        }
        .red { background: #e74c3c; }
        .red:hover { background: #c0392b; }
        .blue { background: #3498db; }
        .blue:hover { background: #2980b9; }
        .orange { background: #e67e22; }
        .orange:hover { background: #d35400; }
        .purple { background: #9b59b6; }
        .purple:hover { background: #8e44ad; }
        .green { background: #2ecc71; }
        .green:hover { background: #27ae60; }
    </style>
</head>
<body>
    <h1>ðŸ‘¾ Enemy Sprite Sheet Generator</h1>
    
    <div class="info">
        <p><strong>Format:</strong> 128x128 pixels (4 frames Ã— 4 directions)</p>
        <p><strong>Frame size:</strong> 32x32 pixels</p>
        <p><strong>Rows:</strong> Down, Left, Right, Up</p>
        <p><strong>Animation:</strong> 4 frames per direction (blob movement)</p>
    </div>

    <div class="controls">
        <button class="color-btn red" onclick="setEnemyType('red')">Red - Idle</button>
        <button class="color-btn blue" onclick="setEnemyType('blue')">Blue - Patrol</button>
        <button class="color-btn orange" onclick="setEnemyType('orange')">Orange - Wander</button>
        <button class="color-btn purple" onclick="setEnemyType('purple')">Purple - Chase</button>
        <button class="color-btn green" onclick="setEnemyType('green')">Green - Tank</button>
    </div>

    <div class="canvas-container">
        <canvas id="display"></canvas>
    </div>

    <div>
        <button onclick="downloadSprite()">ðŸ’¾ Download Sprite Sheet</button>
    </div>

    <canvas id="sprite" width="128" height="128" style="display:none;"></canvas>

    <script>
        const canvas = document.getElementById('sprite');
        const ctx = canvas.getContext('2d');
        const display = document.getElementById('display');
        const displayCtx = display.getContext('2d');
        
        let currentType = 'red';
        
        const enemyTypes = {
            red: { 
                primary: '#e74c3c', 
                secondary: '#c0392b', 
                accent: '#a93226',
                name: 'enemy_idle.png'
            },
            blue: { 
                primary: '#3498db', 
                secondary: '#2980b9',
                accent: '#21618c',
                name: 'enemy_patrol.png'
            },
            orange: { 
                primary: '#e67e22', 
                secondary: '#d35400',
                accent: '#ba4a00',
                name: 'enemy_wander.png'
            },
            purple: { 
                primary: '#9b59b6', 
                secondary: '#8e44ad',
                accent: '#7d3c98',
                name: 'enemy_chase.png'
            },
            green: { 
                primary: '#2ecc71', 
                secondary: '#27ae60',
                accent: '#1e8449',
                name: 'enemy_tank.png'
            }
        };

        function setEnemyType(type) {
            currentType = type;
            drawSpriteSheet();
        }

        function drawPixel(x, y, color) {
            ctx.fillStyle = color;
            ctx.fillRect(x, y, 1, 1);
        }

        function drawEnemy(startX, startY, frame, direction) {
            const colors = enemyTypes[currentType];
            
            // Animation - blob squish effect
            let squishY = 0;
            let squishX = 0;
            if (frame === 1 || frame === 3) {
                squishY = 1; // Squish vertically
                squishX = -1; // Expand horizontally
            }

            const baseX = startX + 3;  // Start closer to edge
            const baseY = startY + 4;  // Start closer to top

            // Body (bigger blob shape - fills most of 32x32)
            const bodyPixels = [
                // Row 1 (top)
                [12, 6], [13, 6], [14, 6], [15, 6], [16, 6], [17, 6],
                // Row 2
                [10, 7], [11, 7], [12, 7], [13, 7], [14, 7], [15, 7], [16, 7], [17, 7], [18, 7], [19, 7],
                // Row 3
                [9, 8], [10, 8], [11, 8], [12, 8], [13, 8], [14, 8], [15, 8], [16, 8], [17, 8], [18, 8], [19, 8], [20, 8],
                // Row 4
                [8, 9], [9, 9], [10, 9], [11, 9], [12, 9], [13, 9], [14, 9], [15, 9], [16, 9], [17, 9], [18, 9], [19, 9], [20, 9], [21, 9],
                // Row 5
                [7, 10], [8, 10], [9, 10], [10, 10], [11, 10], [12, 10], [13, 10], [14, 10], [15, 10], [16, 10], [17, 10], [18, 10], [19, 10], [20, 10], [21, 10], [22, 10],
                // Row 6 (middle)
                [7, 11], [8, 11], [9, 11], [10, 11], [11, 11], [12, 11], [13, 11], [14, 11], [15, 11], [16, 11], [17, 11], [18, 11], [19, 11], [20, 11], [21, 11], [22, 11],
                // Row 7
                [7, 12], [8, 12], [9, 12], [10, 12], [11, 12], [12, 12], [13, 12], [14, 12], [15, 12], [16, 12], [17, 12], [18, 12], [19, 12], [20, 12], [21, 12], [22, 12],
                // Row 8
                [7, 13], [8, 13], [9, 13], [10, 13], [11, 13], [12, 13], [13, 13], [14, 13], [15, 13], [16, 13], [17, 13], [18, 13], [19, 13], [20, 13], [21, 13], [22, 13],
                // Row 9
                [7, 14], [8, 14], [9, 14], [10, 14], [11, 14], [12, 14], [13, 14], [14, 14], [15, 14], [16, 14], [17, 14], [18, 14], [19, 14], [20, 14], [21, 14], [22, 14],
                // Row 10
                [8, 15], [9, 15], [10, 15], [11, 15], [12, 15], [13, 15], [14, 15], [15, 15], [16, 15], [17, 15], [18, 15], [19, 15], [20, 15], [21, 15],
                // Row 11
                [8, 16], [9, 16], [10, 16], [11, 16], [12, 16], [13, 16], [14, 16], [15, 16], [16, 16], [17, 16], [18, 16], [19, 16], [20, 16], [21, 16],
                // Row 12
                [9, 17], [10, 17], [11, 17], [12, 17], [13, 17], [14, 17], [15, 17], [16, 17], [17, 17], [18, 17], [19, 17], [20, 17],
                // Row 13
                [9, 18], [10, 18], [11, 18], [12, 18], [13, 18], [14, 18], [15, 18], [16, 18], [17, 18], [18, 18], [19, 18], [20, 18],
                // Row 14
                [10, 19], [11, 19], [12, 19], [13, 19], [14, 19], [15, 19], [16, 19], [17, 19], [18, 19], [19, 19],
                // Row 15
                [10, 20], [11, 20], [12, 20], [13, 20], [14, 20], [15, 20], [16, 20], [17, 20], [18, 20], [19, 20],
                // Row 16
                [11, 21], [12, 21], [13, 21], [14, 21], [15, 21], [16, 21], [17, 21], [18, 21],
                // Row 17 (bottom)
                [12, 22], [13, 22], [14, 22], [15, 22], [16, 22], [17, 22],
            ];

            // Draw body with gradient
            bodyPixels.forEach(([x, y]) => {
                let adjustedY = y + squishY;
                let adjustedX = x + squishX;
                let color = colors.primary;
                
                // Gradient from top to bottom
                if (y >= 13) {
                    color = colors.secondary;
                }
                if (y >= 18) {
                    color = colors.accent;
                }
                
                drawPixel(startX + adjustedX, startY + adjustedY, color);
            });

            // Bigger eyes
            let eyeY = 10;
            
            // Direction-specific eye positions
            if (direction === 3) { // Up - eyes at top
                eyeY = 8;
            }

            // Left eye (3x3)
            for (let ey = 0; ey < 3; ey++) {
                for (let ex = 0; ex < 3; ex++) {
                    drawPixel(startX + 10 + ex, startY + eyeY + ey, '#ffffff');
                }
            }
            
            // Right eye (3x3)
            for (let ey = 0; ey < 3; ey++) {
                for (let ex = 0; ex < 3; ex++) {
                    drawPixel(startX + 17 + ex, startY + eyeY + ey, '#ffffff');
                }
            }
            
            // Pupils (moves based on direction) - 2x2
            let pupilOffsetX = 0;
            let pupilOffsetY = 0;
            
            if (direction === 1) pupilOffsetX = -1; // Left
            if (direction === 2) pupilOffsetX = 1;  // Right
            if (direction === 0) pupilOffsetY = 1;  // Down
            if (direction === 3) pupilOffsetY = -1; // Up
            
            // Left pupil
            drawPixel(startX + 11 + pupilOffsetX, startY + eyeY + 1 + pupilOffsetY, '#000000');
            drawPixel(startX + 12 + pupilOffsetX, startY + eyeY + 1 + pupilOffsetY, '#000000');
            
            // Right pupil
            drawPixel(startX + 18 + pupilOffsetX, startY + eyeY + 1 + pupilOffsetY, '#000000');
            drawPixel(startX + 19 + pupilOffsetX, startY + eyeY + 1 + pupilOffsetY, '#000000');

            // Bigger mouth
            if (direction !== 3) { // No mouth when facing up
                const mouthY = 16;
                for (let mx = 12; mx <= 17; mx++) {
                    drawPixel(startX + mx, startY + mouthY, '#000000');
                }
                // Curve the mouth slightly
                drawPixel(startX + 11, startY + mouthY - 1, '#000000');
                drawPixel(startX + 18, startY + mouthY - 1, '#000000');
            }

            // Add highlights on top
            drawPixel(startX + 11, startY + 8, '#ffffff');
            drawPixel(startX + 12, startY + 8, '#ffffff');
            drawPixel(startX + 13, startY + 8, '#ffffff');
            drawPixel(startX + 12, startY + 7, '#ffffff');
        }

        function drawSpriteSheet() {
            // Clear canvas
            ctx.clearRect(0, 0, 128, 128);
            
            // Draw all frames
            // Row 0: Down
            for (let frame = 0; frame < 4; frame++) {
                drawEnemy(frame * 32, 0, frame, 0);
            }
            
            // Row 1: Left
            for (let frame = 0; frame < 4; frame++) {
                drawEnemy(frame * 32, 32, frame, 1);
            }
            
            // Row 2: Right
            for (let frame = 0; frame < 4; frame++) {
                drawEnemy(frame * 32, 64, frame, 2);
            }
            
            // Row 3: Up
            for (let frame = 0; frame < 4; frame++) {
                drawEnemy(frame * 32, 96, frame, 3);
            }

            // Update display
            displayCtx.imageSmoothingEnabled = false;
            displayCtx.clearRect(0, 0, 512, 512);
            displayCtx.drawImage(canvas, 0, 0, 512, 512);
            
            // Draw grid
            displayCtx.strokeStyle = '#666';
            displayCtx.lineWidth = 1;
            for (let i = 0; i <= 4; i++) {
                displayCtx.beginPath();
                displayCtx.moveTo(i * 128, 0);
                displayCtx.lineTo(i * 128, 512);
                displayCtx.stroke();
                
                displayCtx.beginPath();
                displayCtx.moveTo(0, i * 128);
                displayCtx.lineTo(512, i * 128);
                displayCtx.stroke();
            }
        }

        function downloadSprite() {
            const colors = enemyTypes[currentType];
            const link = document.createElement('a');
            link.download = colors.name;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        // Initial draw
        drawSpriteSheet();
    </script>
</body>
</html>