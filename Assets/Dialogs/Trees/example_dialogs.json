{
  "dialogTrees": {
    "quest_giver_initial": {
      "id": "quest_giver_initial",
      "npcId": "quest_giver_forest",
      "startNode": "greeting",
      "nodes": {
        "greeting": {
          "text": "dialog.quest_giver.initial_greeting",
          "portrait": "npc_villager_concerned",
          "responses": [
            {
              "text": "dialog.player.whats_wrong",
              "nextNode": "explain_problem",
              "conditions": []
            },
            {
              "text": "dialog.player.not_interested",
              "nextNode": "reject_quest",
              "conditions": []
            }
          ]
        },
        "explain_problem": {
          "text": "dialog.quest_giver.explain_monsters",
          "portrait": "npc_villager_concerned",
          "responses": [
            {
              "text": "dialog.player.accept_quest",
              "nextNode": "accept",
              "effects": [
                "quest.start.clear_forest",
                "flag.set.quest_giver_met"
              ]
            },
            {
              "text": "dialog.player.need_time",
              "nextNode": "end",
              "effects": []
            }
          ]
        },
        "accept": {
          "text": "dialog.quest_giver.thank_you",
          "portrait": "npc_villager_concerned",
          "responses": [
            {
              "text": "dialog.player.goodbye",
              "nextNode": "end"
            }
          ]
        },
        "reject_quest": {
          "text": "dialog.quest_giver.disappointed",
          "portrait": "npc_villager_concerned",
          "responses": [
            {
              "text": "dialog.player.goodbye",
              "nextNode": "end"
            }
          ]
        }
      }
    },
    "quest_giver_in_progress": {
      "id": "quest_giver_in_progress",
      "npcId": "quest_giver_forest",
      "startNode": "check_progress",
      "nodes": {
        "check_progress": {
          "text": "dialog.quest_giver.quest_in_progress",
          "portrait": "npc_villager_concerned",
          "responses": [
            {
              "text": "dialog.player.still_working",
              "nextNode": "end"
            }
          ]
        }
      }
    },
    "quest_giver_completed": {
      "id": "quest_giver_completed",
      "npcId": "quest_giver_forest",
      "startNode": "reward",
      "nodes": {
        "reward": {
          "text": "dialog.quest_giver.quest_complete_thanks",
          "portrait": "relieved",
          "effects": [
            "item.give.gold.100",
            "item.give.health_potion.3",
            "player.xp.150"
          ],
          "responses": [
            {
              "text": "dialog.player.youre_welcome",
              "nextNode": "end"
            }
          ]
        }
      }
    },
    "merchant_shop_main": {
      "id": "merchant_shop_main",
      "npcId": "merchant_weapons",
      "startNode": "greeting",
      "nodes": {
        "greeting": {
          "text": "dialog.merchant.greeting",
          "portrait": "neutral",
          "responses": [
            {
              "text": "dialog.player.show_weapons",
              "nextNode": "show_weapons"
            },
            {
              "text": "dialog.player.show_armor",
              "nextNode": "show_armor"
            },
            {
              "text": "dialog.player.goodbye",
              "nextNode": "end"
            }
          ]
        },
        "show_weapons": {
          "text": "dialog.merchant.weapons_display",
          "portrait": "happy",
          "responses": [
            {
              "text": "dialog.player.buy_sword",
              "nextNode": "buy_sword",
              "conditions": ["player.coins >= 100"]
            },
            {
              "text": "dialog.player.buy_sword_no_money",
              "nextNode": "no_money",
              "conditions": ["player.coins < 100"]
            },
            {
              "text": "dialog.player.back",
              "nextNode": "greeting"
            }
          ]
        },
        "show_armor": {
          "text": "dialog.merchant.armor_display",
          "portrait": "happy",
          "responses": [
            {
              "text": "dialog.player.back",
              "nextNode": "greeting"
            }
          ]
        },
        "buy_sword": {
          "text": "dialog.merchant.sword_purchased",
          "portrait": "happy",
          "effects": [
            "item.give.iron_sword.1"
          ],
          "responses": [
            {
              "text": "dialog.player.thanks",
              "nextNode": "greeting"
            }
          ]
        },
        "no_money": {
          "text": "dialog.merchant.not_enough_gold",
          "portrait": "neutral",
          "responses": [
            {
              "text": "dialog.player.sorry",
              "nextNode": "greeting"
            }
          ]
        }
      }
    },
    "village_elder_main": {
      "id": "village_elder_main",
      "npcId": "village_elder",
      "startNode": "greeting",
      "nodes": {
        "greeting": {
          "text": "dialog.elder.greeting",
          "portrait": "wise",
          "responses": [
            {
              "text": "dialog.player.who_are_you",
              "nextNode": "explain_identity"
            },
            {
              "text": "dialog.player.tell_history",
              "nextNode": "village_history",
              "conditions": ["flag.met_elder"]
            },
            {
              "text": "dialog.player.goodbye",
              "nextNode": "end"
            }
          ]
        },
        "explain_identity": {
          "text": "dialog.elder.identity",
          "portrait": "wise",
          "effects": ["flag.set.met_elder"],
          "responses": [
            {
              "text": "dialog.player.tell_more",
              "nextNode": "village_history"
            },
            {
              "text": "dialog.player.goodbye",
              "nextNode": "end"
            }
          ]
        },
        "village_history": {
          "text": "dialog.elder.history",
          "portrait": "nostalgic",
          "responses": [
            {
              "text": "dialog.player.interesting",
              "nextNode": "end"
            }
          ]
        }
      }
    }
  }
}